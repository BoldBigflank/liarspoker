extends layout

prepend scripts
    script(src="/socket.io/socket.io.js")

prepend content
    .container-fluid
        .row
            .span6 
                h1 Player
                .row
                    .span1 Die
                    .span1 Die
                    .span1 Die
                    .span1 Die
                    .span1 Die
            .span6 
                h1 Player
                .row
                    .span1 Die
                    .span1 Die
                    .span1 Die
                    .span1 Die
                    .span1 Die
        .row
            .span6 
                h1 Player
                .row
                    .span1 Die
                    .span1 Die
                    .span1 Die
                    .span1 Die
                    .span1 Die
            .span6 
                h1 Player
                .row
                    .span1 Die
                    .span1 Die
                    .span1 Die
                    .span1 Die
                    .span1 Die
        .row
            .span2
                button.btn Call Liar
        .row
            .span6
                h1 Bet
        .row
            .span2.offset6
                button.btn Higher
        .row
            .span12
                .span2.offset2
                    button.btn Fewer
                .span1 Die
                .span1 Die
                .span1 Die
                .span1 Die
                .span1 Die
                .span2
                    button.btn More
        .row
            .span2.offset6
                button.btn Lower
        .row
            .span2
                button.btn Bid
        .row
            .span6 
                h1 Hand
                .row
                    .span1 Die
                    .span1 Die
                    .span1 Die
                    .span1 Die
                    .span1 Die

    
    script(src="/socket.io/socket.io.js")
    script
        var uuid = '#{uuid}'
        var gameId = '#{gameId}'
        var socket = io.connect('#');
        var viewModel = ko.mapping.fromJS(!{JSON.stringify(game)});
        socket.on('alert', function (data) {
            console.log(data);
        });

        socket.on('game', function(data){
            // Knockout Implementation
            console.log("Game ", data)
            ko.mapping.fromJS(data, viewModel);
        })
        socket.emit('join', {gameId:gameId, uuid:uuid})